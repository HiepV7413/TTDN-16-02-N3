<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="email_template_phieu_luong" model="mail.template">
            <field name="name">Phiếu Lương - Thông Báo</field>
            <field name="model_id" ref="model_phieu_luong"/>
            
            <field name="subject">Phiếu lương tháng {{ object.thang }}/{{ object.nam }} - {{ object.nhan_vien_id.ho_va_ten }}</field>
            
            <field name="email_from">vanhiep2514@gmail.com</field> 
            
            <field name="email_to">{{ object.nhan_vien_id.email }}</field>
            
            <field name="auto_delete" eval="False"/>
            <field name="body_html" type="html">
<div style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
    <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f4f4f4; padding: 20px 0;">
        <tr>
            <td align="center">
                <table border="0" cellpadding="0" cellspacing="0" width="600" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    
                    <tr>
                        <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px 40px; text-align: center;">
                            <h1 style="margin: 0; color: #ffffff; font-size: 28px; font-weight: bold;">
                                PHIẾU LƯƠNG
                            </h1>
                            <p style="margin: 10px 0 0 0; color: #ffffff; font-size: 16px; opacity: 0.9;">
                                Ngày 
<span t-esc="datetime.datetime.now().strftime('%d-%m-%Y')"/>
                            </p>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 30px 40px 20px 40px;">
                            <p style="margin: 0; font-size: 16px; color: #333333; line-height: 1.6;">
                                Kính gửi <strong><t t-esc="object.nhan_vien_id.ho_va_ten"/></strong>,
                            </p>
                            <p style="margin: 15px 0 0 0; font-size: 14px; color: #666666; line-height: 1.6;">
                                Phiếu lương của bạn cho tháng <t t-esc="object.thang"/>/<t t-esc="object.nam"/> đã được xử lý. 
                                Chi tiết như sau:
                            </p>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 0 40px;">
                            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f8f9fa; border-radius: 6px; padding: 20px;">
                                <tr>
                                    <td style="padding: 8px 0;">
                                        <span style="color: #666666; font-size: 14px;">Mã nhân viên:</span>
                                    </td>
                                    <td align="right" style="padding: 8px 0;">
                                        <strong style="color: #333333; font-size: 14px;"><t t-esc="object.nhan_vien_id.ma_dinh_danh or 'N/A'"/></strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0;">
                                        <span style="color: #666666; font-size: 14px;">Số phiếu lương:</span>
                                    </td>
                                    <td align="right" style="padding: 8px 0;">
                                        <strong style="color: #333333; font-size: 14px;"><t t-esc="object.name"/></strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0;">
                                        <span style="color: #666666; font-size: 14px;">Ngày trả lương:</span>
                                    </td>
                                    <td align="right" style="padding: 8px 0;">
                                        <strong style="color: #333333; font-size: 14px;"><t t-esc="object.ngay_tra or 'N/A'"/></strong>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 25px 40px 10px 40px;">
                            <h2 style="margin: 0; font-size: 18px; color: #333333; border-bottom: 2px solid #667eea; padding-bottom: 10px;">
                                Chi Tiết Lương
                            </h2>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 10px 40px;">
                            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse;">
                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Lương cơ bản</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #28a745; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.bang_luong_id.luong_co_ban)"/> ₫</strong>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Số ngày đi làm</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #28a745; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.so_ngay_di_lam)"/> ngày</strong>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền phụ cấp</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #28a745; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.tien_phu_cap)"/> ₫</strong>
                                    </td>
                                </tr>
                                

                                <t t-if="object.tien_tang_ca">
                                <tr>  
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền tăng ca</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #28a745; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.tien_tang_ca)"/> ₫</strong>
                                    </td>
                                </tr>
                                </t>

                                <t t-if="object.tien_thuong">
                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền thưởng</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #28a745; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.tien_thuong)"/> ₫</strong>
                                    </td>
                                </tr>
                                </t>

                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền bảo hiểm</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #dc3545; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.bao_hiem_ca_nhan)"/> ₫</strong>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền bảo hiểm xã hội</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #dc3545; font-size: 14px;"><t t-esc="'{:,.0f}'.format(object.bao_hiem_xa_hoi)"/> ₫</strong>
                                    </td>
                                </tr>

                                <t t-if="object.tien_phat">
                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Tiền phạt</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #dc3545; font-size: 14px;">-<t t-esc="'{:,.0f}'.format(object.tien_phat)"/> ₫</strong>
                                    </td>
                                </tr>
                                </t>

                                <t t-if="object.tien_thue_tncn">
                                <tr>
                                    <td style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <span style="color: #333333; font-size: 14px;">Thuế TNCN</span>
                                    </td>
                                    <td align="right" style="padding: 12px 0; border-bottom: 1px solid #eeeeee;">
                                        <strong style="color: #dc3545; font-size: 14px;">-<t t-esc="'{:,.0f}'.format(object.tien_thue_tncn)"/> ₫</strong>
                                    </td>
                                </tr>
                               </t>
                            </table>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding: 20px 40px;">
                            <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 8px; padding: 20px;">
                                <tr>
                                    <td>
                                        <span style="color: #ffffff; font-size: 16px; font-weight: bold;">TỔNG THỰC LĨNH</span>
                                    </td>
                                    <td align="right">
                                        <span style="color: #ffffff; font-size: 24px; font-weight: bold;">
                                            <t t-esc="'{:,.0f}'.format(object.tong_thuc_linh)"/> ₫
                                        </span>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>

                     <t t-if="object.ghi_chu">
                    <tr>
                        <td style="padding: 10px 40px;">
                            <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; border-radius: 4px;">
                                <p style="margin: 0; font-size: 13px; color: #856404;">
                                    <strong>Ghi chú:</strong> <t t-esc="object.ghi_chu"/>
                                </p>
                            </div>
                        </td>
                    </tr>
                    </t>

                    <tr>
                        <td style="padding: 20px 40px 30px 40px;">
                            <p style="margin: 0; font-size: 14px; color: #666666; line-height: 1.6;">
                                Nếu bạn có bất kỳ thắc mắc nào về phiếu lương này, vui lòng liên hệ với bộ phận 
                                Nhân sự để được hỗ trợ.
                            </p>
                            <p style="margin: 15px 0 0 0; font-size: 14px; color: #666666;">
                                Trân trọng,<br/>
                                <strong>Phòng Nhân Sự</strong>
                            </p>
                        </td>
                    </tr>

                    <tr>
                        <td style="background-color: #f8f9fa; padding: 20px 40px; text-align: center; border-top: 1px solid #eeeeee;">
                            <p style="margin: 0; font-size: 12px; color: #999999;">
                                Đây là email tự động, vui lòng không trả lời email này.
                            </p>
                            <p style="margin: 10px 0 0 0; font-size: 12px; color: #999999;">
© <t t-esc="datetime.datetime.now().year"/>. All rights reserved                            </p>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>
    </table>
</div>
            </field>
        </record>
    </data>
</odoo>